<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>回滚顶部</title>
	<style type="text/css">
	*{margin: 0;padding: 0;}
	.content {width:1190px;margin: 0 auto;}
	#btn{width: 40px;height: 40px;position: fixed;left: 50%;margin-left: 600px;bottom: 30px;background: url(top_bg.png) no-repeat left top;display: none;}
	#btn:hover{background: url(top_bg.png) no-repeat left -40px;}
	</style>
	<script type="text/javascript">
	//页面加载完触发
	window.onload=function(){
		var btn=document.getElementById('btn');
		//获取可视页面高度
		var clientHeight=document.documentElement.clientHeight;
		var timer=null;
		var isTop=true;
		//滚动时出发
		window.onscroll=function(){
			var osTop=document.documentElement.scrollTop||document.body.scrollTop;
			if (osTop>=clientHeight) {
				btn.style.display='block';
			} else{
				btn.style.display='none';
			};
			if(!isTop){
				clearInterval(timer);
			}
			isTop=false;
		}
		//点击按钮时触发
		btn.onclick=function(){
			//设置定时器
			timer=setInterval(function(){
				isTop=true;
				//获取距离顶部的高度
			var osTop=document.documentElement.scrollTop||document.body.scrollTop;
			var ispeed=Math.floor(-osTop/5);
			document.documentElement.scrollTop=document.body.scrollTop=osTop+ispeed;
			console.log(osTop+ispeed);
			if (osTop==0) {clearInterval(timer);} else{};
			},30);
		}
	}
	</script>
</head>
<body>
<div class="content">
	<img src="tb_bg.jpg">
	<a href="javascript:;" id="btn" ></a>
</div>
</body>
</html>